<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Contact ê´€ë¦¬ - Admin</title>
    <link rel="stylesheet" href="admin_style.css">
</head>
<body>
    <div class="admin-wrapper">
        <aside class="sidebar">
            <div class="sidebar-header"><h2>ADMIN</h2></div>
<nav class="sidebar-nav">
    <ul>
        <li><a href="index_admin.html">ğŸ“Š ëŒ€ì‹œë³´ë“œ</a></li>
        <li><a href="admin_about.html">â„¹ï¸ About ê´€ë¦¬</a></li>
        <li><a href="admin_service.html">ğŸ›  Service ê´€ë¦¬</a></li>
        <li><a href="admin_news.html">ğŸ“° News ê´€ë¦¬</a></li>
        <li><a href="admin_contact.html">ğŸ“ Contact ê´€ë¦¬</a></li>
    </ul>
</nav>
            <div class="sidebar-footer"><a href="../index.html" class="btn-exit">ğŸ  ì‚¬ì´íŠ¸ ë‚˜ê°€ê¸°</a></div>
        </aside>

        <main class="main-content">
            <header class="top-header">
                <h1>Contact ê´€ë¦¬</h1>
                <div class="user-info">ê³ ê°ë“¤ì˜ ë¬¸ì˜ ë‚´ì—­ì„ í™•ì¸í•˜ê³  ê´€ë¦¬í•©ë‹ˆë‹¤.</div>
            </header>

            <section class="dashboard-grid" style="margin-bottom: 20px;">
                <div class="stat-card orange">
                    <div class="stat-label">ì½ì§€ ì•Šì€ ë¬¸ì˜</div>
                    <div class="stat-value">2</div>
                </div>
                <div class="stat-card blue">
                    <div class="stat-label">ì „ì²´ ë¬¸ì˜</div>
                    <div class="stat-value">45</div>
                </div>
            </section>

            <section class="admin-card-section">
                <div class="section-title">ğŸ“ ë¬¸ì˜ ìˆ˜ì‹ í•¨</div>
                <div class="table-container">
                    <table class="partner-table">
                        <thead>
                            <tr>
                                <th style="width: 80px;">ìƒíƒœ</th>
                                <th>ì„±í•¨ / ì—°ë½ì²˜</th>
                                <th>ë¬¸ì˜ ì œëª©</th>
                                <th style="width: 150px;">ì ‘ìˆ˜ì¼</th>
                                <th style="width: 120px;">ìƒì„¸ë³´ê¸°</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr class="unread">
                                <td><span class="badge warning">ë¯¸í™•ì¸</span></td>
                                <td><strong>í™ê¸¸ë™</strong><br><small>010-1234-5678</small></td>
                                <td>ê²¬ì  ë° í˜‘ì—… ë¬¸ì˜ë“œë¦½ë‹ˆë‹¤.</td>
                                <td>2024-05-20</td>
                                <td><button class="btn-table-edit" onclick="showContactDetail('í™ê¸¸ë™', '010-1234-5678', 'test@email.com', 'ê²¬ì  ë¬¸ì˜', 'í”„ë¡œì íŠ¸ ì˜ˆì‚°ê³¼ ê¸°ê°„ì´ ê¶ê¸ˆí•©ë‹ˆë‹¤.')">ë³´ê¸°</button></td>
                            </tr>
                            <tr>
                                <td><span class="badge success">í™•ì¸ì™„ë£Œ</span></td>
                                <td>ê¹€ì² ìˆ˜<br><small>010-0000-0000</small></td>
                                <td>ì„œë¹„ìŠ¤ ì´ìš© ë°©ë²• ë¬¸ì˜</td>
                                <td>2024-05-19</td>
                                <td><button class="btn-table-edit" onclick="showContactDetail('ê¹€ì² ìˆ˜', '010-0000-0000', 'kim@email.com', 'ì„œë¹„ìŠ¤ ë¬¸ì˜', 'ë¡œê·¸ì¸ì´ ì•ˆ ë©ë‹ˆë‹¤.')">ë³´ê¸°</button></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </section>

            <section id="contactDetailSection" class="admin-card-section" style="display: none; border-top: 4px solid #ed8936;">
                <div class="section-title">ğŸ“‹ ìƒì„¸ ë¬¸ì˜ ë‚´ìš©</div>
                <div class="contact-detail-box">
                    <div class="detail-row">
                        <div class="detail-item"><strong>ì„±í•¨:</strong> <span id="detailName"></span></div>
                        <div class="detail-item"><strong>ì—°ë½ì²˜:</strong> <span id="detailPhone"></span></div>
                        <div class="detail-item"><strong>ì´ë©”ì¼:</strong> <span id="detailEmail"></span></div>
                    </div>
                    <div class="detail-content">
                        <strong>ë¬¸ì˜ ì œëª©:</strong> <p id="detailTitle" style="margin-bottom: 10px; font-weight: bold;"></p>
                        <strong>ë¬¸ì˜ ë‚´ìš©:</strong>
                        <div id="detailMessage" class="message-text"></div>
                    </div>
                    <div class="form-actions-lg">
                        <button class="btn-cancel-lg" onclick="hideContactDetail()">ë‹«ê¸°</button>
                        <button class="btn-save-lg" style="background-color: #48bb78;">ì²˜ë¦¬ ì™„ë£Œ í‘œì‹œ</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        function showContactDetail(name, phone, email, title, msg) {
            const detailSection = document.getElementById('contactDetailSection');
            document.getElementById('detailName').innerText = name;
            document.getElementById('detailPhone').innerText = phone;
            document.getElementById('detailEmail').innerText = email;
            document.getElementById('detailTitle').innerText = title;
            document.getElementById('detailMessage').innerText = msg;
            
            detailSection.style.display = 'block';
            detailSection.scrollIntoView({ behavior: 'smooth' });
        }

        function hideContactDetail() {
            document.getElementById('contactDetailSection').style.display = 'none';
        }
    </script>
</body>

<script>
    document.addEventListener('DOMContentLoaded', loadContacts);

    function loadContacts() {
        // ì‹¤ì œë¡œëŠ” index.htmlì—ì„œ ì €ì¥í•œ contactDataë¥¼ ê°€ì ¸ì˜´
        const contacts = JSON.parse(localStorage.getItem('contactData') || '[]');
        const tbody = document.querySelector('.partner-table tbody');
        tbody.innerHTML = '';

        contacts.forEach((c, index) => {
            tbody.innerHTML += `
                <tr class="${c.read ? '' : 'unread'}">
                    <td><span class="badge ${c.read ? 'success' : 'warning'}">${c.read ? 'í™•ì¸ì™„ë£Œ' : 'ë¯¸í™•ì¸'}</span></td>
                    <td><strong>${c.name}</strong><br><small>${c.phone}</small></td>
                    <td>${c.title}</td>
                    <td>${c.date}</td>
                    <td><button class="btn-table-edit" onclick="showContactDetail(${index})">ë³´ê¸°</button></td>
                </tr>
            `;
        });
    }

    function showContactDetail(index) {
        const contacts = JSON.parse(localStorage.getItem('contactData'));
        const c = contacts[index];
        
        document.getElementById('detailName').innerText = c.name;
        document.getElementById('detailPhone').innerText = c.phone;
        document.getElementById('detailEmail').innerText = c.email;
        document.getElementById('detailTitle').innerText = c.title;
        document.getElementById('detailMessage').innerText = c.message;
        
        // ì½ìŒ ì²˜ë¦¬
        contacts[index].read = true;
        localStorage.setItem('contactData', JSON.stringify(contacts));
        
        document.getElementById('contactDetailSection').style.display = 'block';
        document.getElementById('contactDetailSection').scrollIntoView({ behavior: 'smooth' });
    }
</script>
</html>